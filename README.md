# Kidney_Disease_Classification

This project implements a machine learning pipeline for classifying kidney scans as either normal or exhibiting a tumor.  The pipeline is designed for reproducibility and version control using DVC (Data Version Control) and leverages MLflow for experiment tracking.  A Flask web application provides a user-friendly interface for image upload and prediction.

## Project Structure

The project is organized into several key components:

* **`src/Kidney_Disease_Classification`:** Contains the core code for data ingestion, model preparation, training, evaluation, and prediction.
    * **`components`:**  Individual modules for each stage of the pipeline (data ingestion, model preparation, training, evaluation).
    * **`config`:** Configuration files (`config.yaml` and `params.yaml`).
    * **`entity`:** Data classes for configuration parameters.
    * **`pipeline`:** Scripts defining the execution flow for each pipeline stage.
    * **`utils`:** Helper functions for common tasks (reading YAML, saving JSON/binary files, etc.).
* **`config`:** YAML files defining configuration parameters (paths, URLs, hyperparameters).
* **`templates`:**  HTML template for the Flask web application.
* **`research`:** Jupyter Notebooks for experimentation and development.
* **`artifacts`:** Directory to store intermediate and final results generated by the pipeline.


## Workflow
1. Update config.yaml
2. Update secrets.yaml [Optional]
3. Update params.yaml
4. Update the entity
5. Update the configuration manager in src config
6. Update the components
7. Update the pipeline 
8. Update the main.py
9. Update the dvc.yaml
10. app.py


## Setup

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/pdobariya1/Kidney_Disease_Classification
   ```
2. **Create Conda Environment:**
   ```bash
   conda create -n kidney_disease python=3.8 -y
   conda activate kidney_disease
   ```
3. **Install Requirements:**
   ```bash
   pip install -r requirements.txt
   ```
4. **Initialize DVC:**  (If you want to use DVC's features, otherwise skip this)
   ```bash
   dvc init
   ```
5. **Configure MLflow:** (Optional) Set up your MLflow tracking server.  Update the `mlflow_uri` in `config/config.yaml` and your environment variables accordingly (see `research/04_model_evaluation_with_mlflow.ipynb` for example).


## Running the Application

1. **(Optional) Run the Pipeline:** If you want to train a new model, you can run the entire pipeline using:

   ```bash
   python main.py
   ```
   or if using DVC:
   ```bash
   dvc repro
   ```

2. **Run the Flask App:** To start the web application:

   ```bash
   python app.py
   ```
   This will start a server on `http://0.0.0.0:8080`.  Navigate to this URL in your web browser to upload an image and obtain a prediction.
